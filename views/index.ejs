<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./style.css">
  <style>
    .label-red::after {
      content: " *";
      color: red;
      font-size: large;
    }

    #client-side-container,
    #vendor-side-container {
      overflow-x: hidden;
      overflow-y: scroll;
    }

    #client-side-container.toggle,
    #vendor-side-container.toggle {
      display: block;
      right: 0;
      animation: slider 400ms linear 1;
    }

    @keyframes slider {
      from {
        right: -300px;
        opacity: 0.5;
      }

      to {
        right: 0;
        opacity: 1;
      }

    }

    #overlay.toggle {
      display: block;
    }


    #invoice-view.toggle {
      display: block;
      animation: dialog 500ms linear 1;

    }

    #client-side-container::-webkit-scrollbar,
    #vendor-side-container::-webkit-scrollbar {
      background: transparent;
      width: 14px;
    }

    #client-side-container::-webkit-scrollbar-track,
    #vendor-side-container::-webkit-scrollbar-track {
      right: 3px;
      background: 0 0;
      z-index: 200;
    }

    #client-side-container::-webkit-scrollbar-thumb,
    #vendor-side-container::-webkit-scrollbar-thumb {
      background-color: #bababa;
      border-radius: 20px;
      border: 2px solid #fff;
    }

    #client-side-container::-webkit-scrollbar-thumb:hover,
    #vendor-side-container::-webkit-scrollbar-thumb:hover {
      background-color: #0000009e;
    }

    @keyframes dialog {
      from {
        opacity: 0;
      }

      to {
        opacity: 1;
      }

    }

    #invoice-list {
      transition: all ease 0.3s;
    }

    #invoice-list:hover {
      border-color: rgb(126, 34, 206);
    }

    /* .svgicon {
      opacity: 0;
    }

    #invoice-list:hover .svgicon {
      opacity: 1;
    } */

    @media(max-width: 640px) {
      #invoice-list:hover .svgicon {
        opacity: 0;
      }
    }

    #pinjaiGrid,
    #fillingGrid,
    #stichingGrid,
    #grandingGrid,
    #chraiGrid,
    #productPriceGrid {
      display: none;
    }
  </style>
  <title>Invoices - GMS</title>
</head>

<body class="flex  min-h-screen w-screen bg-gray-100 relative overflow-visible">
  <%-include('aside', {activeOption: 'index' })%>
    <div class="flex flex-col   w-[85%] px-[5%] pt-4">
      <!-- Header -->
      <header>
        <ul
          class="flex justify-center items-center text-sm font-medium text-center text-gray-500 border-b border-gray-200">
          <li id="buyTab" class="tab px-20  cursor-pointer border border-gray-300">
            <p class="inline-block p-4 rounded-t-lg ">Buy</a>
          </li>

          <li id="sellTab" class="tab bg-white text-blue-500 px-20  cursor-pointer border border-gray-300">
            <p class="inline-block p-4 rounded-t-lg ">Sell</p>
          </li>
        </ul>

      </header>
      <!-- ! Buy Tab -->
      <%-include('buy-tab')%>

        <!--! Sell TAB -->
        <%-include('sell-tab')%>

          <!-- SIDEBAR ... FORM-->
          <%-include('sell-form')%>

            <!-- SIDEBAR ... FORM-->
            <%-include('buy-form')%>


              <!-- INVOICE REVIEW -->
              <div id="invoice-view"
                class="container bg-white w-[90vw] sm:w-[45vw] rounded p-3 fixed top-[50%] left-0 translate-y-[-50%] translate-x-[5%] sm:translate-x-[50%] z-40  hidden">
              </div>
              <!-- OVERLAY -->
              <div id="overlay" onclick="hideClientSidebar();hideVendorSidebar()"
                class="bg-gray-800 bg-opacity-40 w-screen h-screen fixed inset-0 hidden z-30">
              </div>

              <!-- SCRIPTS -->
              <script type="module">
                import {openClientInvoice, openVendorInvoice, closeClientInvoice, closeVendorInvoice, capitalizeText, contactFormat, cnicFormat } from '/javascripts/utils.mjs';

                // Apply contact format
                document.querySelectorAll('.contactInput').forEach(contact =>{
                  contact.addEventListener('input', contactFormat)
                })
                // Apply cnic format
                document.querySelectorAll('.cnicInput').forEach(cnic =>{
                  cnic.addEventListener('input', cnicFormat)
                })
                // Apply Capitalization of Text
                document.querySelectorAll(".capitalize-input").forEach(input => {
                  input.addEventListener("input", capitalizeText);
                });

                //Apply Open Client Invoice
                document.querySelectorAll('.openClientInvoice').forEach(invoice => {
                  invoice.addEventListener('click', openClientInvoice)
                })
                //Apply Open Vendor Invoice
                document.querySelectorAll('.openVendorInvoice').forEach(invoice => {
                  invoice.addEventListener('click', openVendorInvoice )
                })
                //Apply Close Invoice
                document.getElementById('overlay').addEventListener('click', closeClientInvoice, closeVendorInvoice)
              </script>
              <script src="/javascripts/script.js"></script>
              <script src="/javascripts/client-invoice.js"></script>
              <script src="/javascripts/vendor-invoice.js"></script>
              <script src="https://cdn.tailwindcss.com"></script>
</body>

</html>